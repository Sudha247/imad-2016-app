<link href="https://fonts.googleapis.com/css?family=Asul" rel="stylesheet">
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

<!-- jQuery library -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>

<!-- Latest compiled JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

<html>
	<head>
		<title>Tic Tac Toe</title>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<style type="text/css">
			body{
  				background-color: #FFFFFF;
				}

			h2{
  				font-family: 'Asul', sans-serif;
  				font-size: 50px;
  				color: #000000;
			  }
			  .pl{
			  	padding-left: 500px;
			  	padding-right: 500px;
			  }
		</style>

		<script type="text/javascript">
			//Global variables
		var painted;
		var content;
		var winningCombinations;
		var turn = 0;
		var theCanvas;
		var c;
		var cxt;
		var squaresFilled = 0;
		var w;
		var y;

		//Instantiate arrays
		window.onload=function(){
			painted = new Array();
			content = new Array();
			winningCombinations = [[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];
			for (var i = 0; i<= 8; i++) {
				painted[i] = false;
				content[i] = '';
			}
		}

		//Game methods
		function canvasClicked(canvasNumber){
			theCanvas = "canvas"+canvasNumber;
			c = document.getElementById(theCanvas);
			cxt = c.getContext("2d");

			if (painted[canvasNumber-1]==false) {
				if(turn%2==0){
					cxt.beginPath();
					cxt.moveTo(10,10);
					cxt.lineTo(40,40);
					cxt.moveTo(40,10);
					cxt.lineTo(10,40);
					cxt.stroke();
					cxt.closePath();
					content[canvasNumber-1]='X';
				}

				else{
					cxt.beginPath();
					cxt.arc(25,25,20,0,Math.PI*2,true);
					cxt.stroke();
					cxt.closePath();
					content[canvasNumber-1]='O';
				}

				turn++;
				painted[canvasNumber-1]=true;
				squaresFilled++;
				checkForWinners(content[canvasNumber-1]);
                alert(squaresFilled);
				if(squaresFilled==9){
					alert("The Game is over!");
					location.reload(true);
				}

			}

			else{
				alert("That space is already occupied with your heart <3");
			}
		}

		function checkForWinneas(symbol){
			for (var a = 0; a < winningCombinations.length; a++) {
				if(content[winningCombinations[a][0]]==symbol && content[winningCombinations[a][1]]==symbol && content[winningCombinations[a][2]]==symbol){
					alert(symbol+ "Won!!");
					playAgain();
				}
			}
		}

		function playAgain(){
			y = confirm("Play Again?");
			if(y == true){
				alert("YIPPIE!! Here you go");
			}
			else{
				alert("See you Later!!");
			}
		}


		</script>
	</head>
	<body>
	    
		<h2 class="text-center">Come challenge me!</h2>
		
		<div class="jumbotron pl">
		<div id="r1" class="row">
		<canvas id="canvas1" width="120px" height="120px" style="border:1px solid black" align="left" onclick="canvasClicked(1)"></canvas>
		<canvas id="canvas2" width="120px" height="120px" style="border:1px solid black" align="center" onclick="canvasClicked(2)"></canvas>
		<canvas id="canvas3" width="120px" height="120px" style="border:1px solid black" align="right" onclick="canvasClicked(3)"></canvas>
		</div>
		<div id="r2" class="row">
		<canvas id="canvas4" width="120px" height="120px" style="border:1px solid black" onclick="canvasClicked(4)"></canvas>
		<canvas id="canvas5" width="120px" height="120px" style="border:1px solid black" onclick="canvasClicked(5)"></canvas>
		<canvas id="canvas6" width="120px" height="120px" style="border:1px solid black" onclick="canvasClicked(6)"></canvas>
		</div>
		<div id="r3" class="row">
		<canvas id="canvas7" width="120px" height="120px" style="border:1px solid black" onclick="canvasClicked(7)"></canvas>
		<canvas id="canvas8" width="120px" height="120px" style="border:1px solid black" onclick="canvasClicked(8)"></canvas>
		<canvas id="canvas9" width="120px" height="120px" style="border:1px solid black" onclick="canvasClicked(9)"></canvas>
		</div>
		</div>
	</body>
</html>
